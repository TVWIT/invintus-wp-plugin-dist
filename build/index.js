(()=>{"use strict";var e,n={8515:()=>{const e=window.wp.blocks,n=window.React,t=window.wp.blockEditor,i=window.wp.components,r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l;const a=new Uint8Array(16);function o(){if(!l&&(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(a)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const c=function(e,n,t){if(r.randomUUID&&!n&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){t=t||0;for(let e=0;e<16;++e)n[t+e]=i[e];return n}return function(e,n=0){return s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]]}(i)};function u(e=""){return`${e}-${c()}`}const v=()=>(0,n.createElement)(i.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(i.Path,{d:"M22.527 9.544c.306 0 .692.002.968.156.337.188.505.422.505.703V19h-4.13v-7.325h-3.214V19h-4.131v-7.325l-2.888-.016.011 7.245h-4.13v-6.422c.89-1.5 2.683-2.916 5.032-2.938 1.115-.01 11.977 0 11.977 0zM4.131 12.499v6.421H0V9.636c.846.16 1.65.496 2.361.989a6.262 6.262 0 0 1 1.77 1.874z",fill:"#124668"}),(0,n.createElement)(i.Path,{d:"M7.16 7.557c0-.506-.146-1-.422-1.42a2.52 2.52 0 0 0-1.126-.942 2.467 2.467 0 0 0-1.45-.146 2.496 2.496 0 0 0-1.285.7c-.351.357-.59.812-.687 1.308a2.601 2.601 0 0 0 .142 1.478c.19.467.512.866.924 1.147a2.477 2.477 0 0 0 3.17-.317c.47-.48.735-1.13.735-1.808z",fill:"#72bf44"})),d=window.wp.i18n,p=JSON.parse('{"UU":"taproot/invintus"}');(0,e.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:r,isSelected:l}){var a,o,s;const c=null!==(a=e?.invintus_event_id)&&void 0!==a?a:"",p=null!==(o=e?.invintus_event_is_simple)&&void 0!==o&&o,m=null!==(s=e?.invintus_player_pref_id)&&void 0!==s?s:"",f="undefined"!=typeof invintusConfig&&invintusConfig.clientId,g=invintusConfig?.playerPreferences?Object.entries(invintusConfig.playerPreferences).map((([e,n])=>({value:e,label:n}))).sort(((e,n)=>e.label.localeCompare(n.label))):[],h=(0,t.useBlockProps)({});return(0,n.useEffect)((()=>{const e=setTimeout((()=>{if(c&&f){const e={clientID:invintusConfig.clientId,eventID:c,playerPrefID:m||invintusConfig.defaultPlayerId,nonce:invintusConfig.nonce};p&&(e.simple=!0),Invintus.launch(e)}}),300);return()=>{clearTimeout(e)}}),[c,p,m,f]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{...h},f?(0,n.createElement)("div",{id:u("invintus-video"),className:"invintus-block"},c?(0,n.createElement)("div",{className:"invintus-video-wrapper"},(0,n.createElement)("header",null,(0,n.createElement)(v,null),(0,n.createElement)("div",{className:"invintus-event-label"},(0,n.createElement)("span",null,(0,d.__)("Preview","invintus"))),(0,n.createElement)("div",{className:"invintus-event-id"},c)),(0,n.createElement)("section",null,(0,n.createElement)("div",{className:"invintus-player"}))):(0,n.createElement)("div",{className:"invintus-placeholder no-player"},(0,n.createElement)("div",{className:"invintus-placeholder__notice"},(0,n.createElement)("span",null,(0,d.__)("Enter a valid Event ID","invintus"))))):(0,n.createElement)("div",{className:"invintus-config-message"},(0,d.__)("Please configure the Invintus Client ID.","invintus"))),l&&f&&(0,n.createElement)(t.InspectorControls,{key:"settings"},(0,n.createElement)(i.Panel,{header:"Event Settings"},(0,n.createElement)(i.PanelBody,null,(0,n.createElement)(i.TextControl,{label:"Event ID",value:c,onChange:e=>{e!==c&&(r({invintus_event_id:""}),setTimeout((()=>{r({invintus_event_id:e})}),0))}}),(0,n.createElement)(i.SelectControl,{label:(0,d.__)("Player Preference","invintus"),value:m,options:[{value:"",label:(0,d.__)("Global Player Preference","invintus")},...g],onChange:e=>{r({invintus_player_pref_id:e})},help:(0,d.__)("Select a player preference or leave as default to use the global player preference.","invintus")}),(0,n.createElement)(i.ToggleControl,{label:"Use Simple Player",checked:p,onChange:e=>{r({invintus_event_is_simple:e})}})))))}})}},t={};function i(e){var r=t[e];if(void 0!==r)return r.exports;var l=t[e]={exports:{}};return n[e](l,l.exports,i),l.exports}i.m=n,e=[],i.O=(n,t,r,l)=>{if(!t){var a=1/0;for(u=0;u<e.length;u++){for(var[t,r,l]=e[u],o=!0,s=0;s<t.length;s++)(!1&l||a>=l)&&Object.keys(i.O).every((e=>i.O[e](t[s])))?t.splice(s--,1):(o=!1,l<a&&(a=l));if(o){e.splice(u--,1);var c=r();void 0!==c&&(n=c)}}return n}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[t,r,l]},i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};i.O.j=n=>0===e[n];var n=(n,t)=>{var r,l,[a,o,s]=t,c=0;if(a.some((n=>0!==e[n]))){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(s)var u=s(i)}for(n&&n(t);c<a.length;c++)l=a[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(u)},t=globalThis.webpackChunkinvintus_plugin=globalThis.webpackChunkinvintus_plugin||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var r=i.O(void 0,[350],(()=>i(8515)));r=i.O(r)})();